<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>عرض البيانات المحفوظة</title>
</head>
<body>
  <h1>البيانات المحفوظة</h1>
  <div id="output">
    <p>جاري تحميل البيانات...</p>
  </div>
  <button id="clearData">حذف البيانات</button>

  <script>
    document.getElementById("clearData").addEventListener("click", function () {
      localStorage.removeItem("formData");
      alert("تم حذف البيانات!");
      location.reload(); // تحديث الصفحة
    });

    // جلب البيانات من Local Storage
    const savedData = localStorage.getItem("formData");

    // استهداف عنصر الإخراج
    const output = document.getElementById("output");

    if (savedData) {
      // تحويل البيانات النصية إلى كائن (مصفوفة من البيانات)
      const data = JSON.parse(savedData);

      // عرض البيانات بشكل قائمة
      let outputHTML = "<ul>";
      data.forEach(item => {
        outputHTML += `
          <li>
            <p><strong>الاسم:</strong> ${item.username}</p>
            <p><strong>البريد الإلكتروني:</strong> ${item.email}</p>
            <p><strong>الرسالة:</strong> ${item.message}</p>
            <p><strong>تم الإرسال في:</strong> ${item.timestamp}</p>
            <hr>
          </li>
        `;
      });
      outputHTML += "</ul>";

      output.innerHTML = outputHTML;
    } else {
      output.innerHTML = "<p>لا توجد بيانات محفوظة.</p>";
    }
  </script>
</body>
</html>
